---
import CardCVIcon from "../../assets/icones/cv_card.svg";

export interface Props {
  size?: "mobile" | "desktop";
  href?: string;
  onClick?: () => void;
}

const { size = "desktop", href = "#", onClick } = Astro.props;

// Tailles dynamiques (CardCV uniquement mobile et desktop)
const sizes = {
  mobile: {
    container: "w-[clamp(2.5rem,11.25vw,3.75rem)] h-[clamp(3.6rem,16.25vw,5.5rem)]",
  },
  desktop: {
    container: "card-cv-desktop",
  },
};

const currentSize = sizes[size] || sizes.desktop;
---

<div class={`${currentSize.container} relative`}>
  <a
    href={href}
    class="card-cv cursor-pointer transition-transform duration-200 hover:scale-110 block origin-center absolute inset-0 animate-cv-glow"
    data-onclick={onClick ? "true" : undefined}
    aria-label="Ouvrir le CV"
  >
    <CardCVIcon class="w-full h-full" />
  </a>
</div>

<style>
  /* Tailles fluides pour desktop */
  .card-cv-desktop {
    width: clamp(3rem, 4.2vw, 4.6875rem);
    height: clamp(3.75rem, 5.2vw, 5.75rem);
  }
  
  @keyframes cv-glow {
    0%, 100% {
      filter: drop-shadow(0 0 2px rgba(52, 190, 237, 0.6));
    }
    50% {
      filter: drop-shadow(0 0 5px rgba(52, 190, 237, 0.7)) drop-shadow(0 0 8px rgba(52, 190, 237, 0.5));
    }
  }

  .animate-cv-glow {
    animation: cv-glow 2.5s ease-in-out infinite;
  }
</style>

